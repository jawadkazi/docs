---
title: "Environment Variables"
description: "Where Moltbot loads environment variables and the precedence order"
icon: "sliders"
---

Moltbot pulls environment variables from multiple sources. The rule is **never override existing values**.

## Precedence (highest â†’ lowest)

<Steps>
  <Step title="Process environment">
    What the Gateway process already has from the parent shell/daemon.
  </Step>
  <Step title=".env in the current working directory">
    Dotenv default; does not override.
  </Step>
  <Step title="Global .env">
    Located at `~/.clawdbot/.env` (aka `$CLAWDBOT_STATE_DIR/.env`); does not override.
  </Step>
  <Step title="Config env block">
    In `~/.clawdbot/moltbot.json` (applied only if missing).
  </Step>
  <Step title="Optional login-shell import">
    `env.shellEnv.enabled` or `CLAWDBOT_LOAD_SHELL_ENV=1`, applied only for missing expected keys.
  </Step>
</Steps>

If the config file is missing entirely, step 4 is skipped; shell import still runs if enabled.

## Config `env` block

Two equivalent ways to set inline env vars (both are non-overriding):

```json
{
  "env": {
    "OPENROUTER_API_KEY": "sk-or-...",
    "vars": {
      "GROQ_API_KEY": "gsk-..."
    }
  }
}
```

## Shell env import

`env.shellEnv` runs your login shell and imports only **missing** expected keys:

```json
{
  "env": {
    "shellEnv": {
      "enabled": true,
      "timeoutMs": 15000
    }
  }
}
```

<Info>
**Env var equivalents:**
- `CLAWDBOT_LOAD_SHELL_ENV=1`
- `CLAWDBOT_SHELL_ENV_TIMEOUT_MS=15000`
</Info>

## Env var substitution in config

You can reference env vars directly in config string values using `${VAR_NAME}` syntax:

```json
{
  "models": {
    "providers": {
      "vercel-gateway": {
        "apiKey": "${VERCEL_GATEWAY_API_KEY}"
      }
    }
  }
}
```

## Related

<CardGroup cols={2}>
  <Card title="Debugging" icon="bug" href="/moltbot/debugging">
    Debug helpers and troubleshooting
  </Card>
  <Card title="Logging" icon="file-lines" href="/moltbot/logging">
    Configure logging and diagnostics
  </Card>
</CardGroup>